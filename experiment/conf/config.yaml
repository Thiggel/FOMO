defaults:
  - model: resnet50
  - ssl: simclr
  - dataset: imagenet100_balanced
  - _self_

# Experiment settings
experiment_name: null
classification_head: false
patch_size: 16

# Training hyperparameters
lr: 0.5
temperature: 0.1
use_temperature_schedule: false
temperature_min: 0.1
temperature_max: 1.0
t_max: 400
weight_decay: 1e-4
max_cycles: 20
n_epochs_per_cycle: 20
warmup: 10

# Batch sizes and processing
train_batch_size: 192
grad_acc_steps: 1
val_batch_size: 512
sd_batch_size: 4
flux_batch_size: 4
sd3_batch_size: 32
crop_size: 224
splits: [0.8, 0.1, 0.1]

# OOD augmentation settings
k: 100
num_ood_samples: 500
every_nth_ood_sample: 1
num_generations_per_ood_sample: 5
ood_selection_strategy: top  # options: top, mode_window
ood_mode_histogram_bins: auto
save_class_distribution: false

# Masking settings
allow_overlap: false
aspect_ratio: [0.75, 1.5]
generation_model: flux  # options: flux, stable_diffusion, stable_diffusion_3
flux_num_steps: 6
flux_guidance: 2.5
sd3_num_steps: 20
sd3_guidance: 5.0
sd3_strength: 0.6
enc_mask_scale: [0.85, 1.0]
min_keep: 10
num_enc_masks: 1
num_pred_masks: 4
pred_mask_scale: [0.15, 0.2]

# Model parameters
pred_depth: 3
pred_emb_dim: 192
ipe_scale: 1.0
use_bfloat16: false
ema: [0.996, 1.0]

# Run configuration
num_runs: 3
max_hours_per_run: 18
seeds: [0, 1, 2, 3, 4]
checkpoint: null
checkpoint_list: null
calc_novelty_score: false

# Visualization
tsne_max_samples: 10000

# Flags

logger: true
pretrain: true
finetune: true
sample_selection: ood
remove_diffusion: false
ood_augmentation: false
log_tsne: false
log_class_dist: false
log_generated_samples: true
log_every_n_classes: 1
max_wandb_augmentation_pairs: 8
use_deepspeed: true

# Optional paths
additional_data_path: null
